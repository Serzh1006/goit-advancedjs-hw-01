{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = {};\n\nconst formEl = document.querySelector('.feedback-form');\n\nformEl.addEventListener('input', getDataForm);\nformEl.addEventListener('submit', submitForm);\n\nfunction loadFromLS() {\n  try {\n    const dataFromLS = JSON.parse(localStorage.getItem('feedback-form-state'));\n    if (dataFromLS === null) {\n      return;\n    }\n    const formsElemKeys = Object.keys(dataFromLS);\n    formsElemKeys.forEach(key => {\n      formEl.elements[key].value = dataFromLS[key];\n      formData[key] = dataFromLS[key];\n    });\n  } catch (error) {\n    console.log(error);\n  }\n}\nloadFromLS();\n\nfunction getDataForm(e) {\n  const fieldName = e.target.name;\n  const filedValue = e.target.value;\n\n  formData[fieldName] = filedValue.trim();\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n}\n\nfunction submitForm(e) {\n  e.preventDefault();\n  if (\n    e.currentTarget.elements.email.value === '' ||\n    e.currentTarget.elements.message.value === ''\n  ) {\n    alert('Fill please all fields');\n    return;\n  }\n  localStorage.removeItem('feedback-form-state');\n  formEl.reset();\n  console.log(formData);\n  formData.email = '';\n  formData.message = '';\n}\n"],"names":["formData","formEl","getDataForm","submitForm","loadFromLS","dataFromLS","key","error","fieldName","filedValue"],"mappings":"oDAAA,MAAMA,EAAW,CAAA,EAEXC,EAAS,SAAS,cAAc,gBAAgB,EAEtDA,EAAO,iBAAiB,QAASC,CAAW,EAC5CD,EAAO,iBAAiB,SAAUE,CAAU,EAE5C,SAASC,GAAa,CACpB,GAAI,CACF,MAAMC,EAAa,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EACzE,GAAIA,IAAe,KACjB,OAEoB,OAAO,KAAKA,CAAU,EAC9B,QAAQC,GAAO,CAC3BL,EAAO,SAASK,CAAG,EAAE,MAAQD,EAAWC,CAAG,EAC3CN,EAASM,CAAG,EAAID,EAAWC,CAAG,CACpC,CAAK,CACF,OAAQC,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CACAH,IAEA,SAASF,EAAY,EAAG,CACtB,MAAMM,EAAY,EAAE,OAAO,KACrBC,EAAa,EAAE,OAAO,MAE5BT,EAASQ,CAAS,EAAIC,EAAW,KAAI,EACrC,aAAa,QAAQ,sBAAuB,KAAK,UAAUT,CAAQ,CAAC,CACtE,CAEA,SAASG,EAAW,EAAG,CAErB,GADA,EAAE,eAAc,EAEd,EAAE,cAAc,SAAS,MAAM,QAAU,IACzC,EAAE,cAAc,SAAS,QAAQ,QAAU,GAC3C,CACA,MAAM,wBAAwB,EAC9B,MACD,CACD,aAAa,WAAW,qBAAqB,EAC7CF,EAAO,MAAK,EACZ,QAAQ,IAAID,CAAQ,EACpBA,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACrB"}